# 第02章：第一个Python程序

上一章我们装好了Python，这章开始真正写代码！这是激动人心的时刻，就像学开车第一次上路一样！

---

## 交互式模式 vs 脚本模式

Python有两种运行方式，就像说话有两种方式：一种是聊天（交互式），一种是写文章（脚本式）。

### 交互式模式（Interactive Mode）

**什么是交互式模式？**

就像在跟Python聊天，你说一句，它答一句。输入代码，立刻看到结果。

```python
>>> print("你好")
你好
>>> 1 + 1
2
>>> name = "小明"
>>> print(name)
小明
```

**怎么进入交互式模式？**

1. 打开命令行（Windows：cmd，macOS/Linux：Terminal）
2. 输入`python`（Windows）或`python3`（macOS/Linux）
3. 看到`>>>`就进入了

**什么时候用交互式？**

- 测试一小段代码，看看能不能运行
- 快速计算，当计算器用
- 学习新语法，试试效果
- 调试代码，看看中间结果

**优点**：立刻看到结果，方便测试  
**缺点**：代码不能保存，关了就没了

---

### 脚本模式（Script Mode）

**什么是脚本模式？**

把代码写在`.py`文件里，保存起来，需要的时候运行。这才是真正的编程方式！

```python
# hello.py
print("你好")
print("这是一个脚本")
```

**怎么运行脚本？**

1. 创建`.py`文件，写代码
2. 保存文件
3. 在命令行运行：`python hello.py`

**什么时候用脚本？**

- 写完整程序
- 代码需要保存，以后还要用
- 代码比较长，不适合在交互式里写
- 需要重复运行

**优点**：代码可以保存、修改、分享  
**缺点**：每次修改要重新运行

---

## 第一个程序：Hello World

每个程序员学新语言时，第一个程序都是"Hello World"。这是编程界的传统，就像学开车第一次启动引擎一样！

### 步骤1：创建文件

1. 新建一个文件夹`my_python_code`（名字可以随便起）
2. 在里面创建`hello.py`（文件名也可以随便起，但要以`.py`结尾）

### 步骤2：写代码

打开`hello.py`，输入：

```python
# hello.py
print("Hello, World!")
print("你好，世界！")
```

**代码解释**：
- `# hello.py` 是注释，说明这是hello.py文件
- `print()` 是Python的内置函数，用来显示信息
- `"Hello, World!"` 是字符串，用引号包起来

### 步骤3：运行

在命令行（确保在文件所在目录）输入：

```bash
python hello.py
```

**输出**：
```
Hello, World!
你好，世界！
```

恭喜！你已经是程序员了！虽然程序很简单，但这是你编程之路的第一步！

---

## print()函数详解

`print()`是Python最常用的函数，几乎每个程序都会用到它。它用来在屏幕上显示信息，就像在纸上写字一样。

### 基本用法

```python
# 打印文本（字符串）
print("Hello")

# 打印数字
print(123)

# 打印多个东西，用逗号分隔
print("我", "爱", "Python")  # 输出：我 爱 Python

# 打印表达式的结果
print(1 + 2 + 3)  # 输出：6
```

**注意**：文本要用引号包起来（单引号或双引号都行），数字不用。

---

### 打印变量

变量就像盒子，可以装东西。我们可以把值存到变量里，然后打印出来。

```python
name = "小红"
age = 18
print("我叫", name)
print("我今年", age, "岁")
```

**输出**：
```
我叫 小红
我今年 18 岁
```

---

### 改变分隔符

默认情况下，`print()`打印多个东西时，用空格分隔。但我们可以改成其他符号。

```python
# 默认用空格分隔
print("A", "B", "C")  # 输出：A B C

# 用其他符号分隔
print("A", "B", "C", sep="-")  # 输出：A-B-C
print("A", "B", "C", sep="")   # 输出：ABC（没有分隔符）
print("2024", "01", "15", sep="/")  # 输出：2024/01/15
```

**实际应用**：
```python
# 打印日期
print(2024, 1, 15, sep="-")  # 2024-1-15

# 打印路径
print("C:", "Users", "Desktop", sep="\\")  # C:\Users\Desktop
```

---

### 改变结尾

默认情况下，`print()`打印完会自动换行。但我们可以改变这个行为。

```python
# 默认print后会换行
print("第一行")
print("第二行")
# 输出：
# 第一行
# 第二行

# 不换行（用空字符串结尾）
print("第一行", end="")
print("第二行")
# 输出：第一行第二行

# 用其他符号结尾
print("苹果", end=", ")
print("香蕉", end=", ")
print("橙子")
# 输出：苹果, 香蕉, 橙子
```

**实际应用**：
```python
# 打印进度条（简化版）
print("加载中", end="")
print(".", end="")
print(".", end="")
print(".")
# 输出：加载中...
```

---

### 格式化输出

有时候我们需要把变量和文字混在一起输出，这时候就需要格式化。

**方法1：f-string（推荐，最简单）**

这是Python 3.6+的新特性，最直观！

```python
name = "张三"
age = 25
score = 95.5

print(f"我叫{name}，今年{age}岁，考了{score}分")
# 输出：我叫张三，今年25岁，考了95.5分
```

**f-string的特点**：
- 在字符串前面加`f`或`F`
- 用`{}`包住变量或表达式
- 可以直接写表达式：`f"1+1={1+1}"` → `1+1=2`

**方法2：format()**

这是老方法，但也很常用。

```python
name = "张三"
age = 25
score = 95.5

print("我叫{}，今年{}岁，考了{}分".format(name, age, score))
# 输出：我叫张三，今年25岁，考了95.5分
```

**方法3：%格式化（老方法，不推荐）**

这是最老的方法，现在很少用了。

```python
name = "张三"
age = 25
score = 95.5

print("我叫%s，今年%d岁，考了%.1f分" % (name, age, score))
# 输出：我叫张三，今年25岁，考了95.5分
```

**推荐用f-string**，最直观，也最现代！

---

## 注释（Comments）

注释是给人看的，Python会完全忽略它们。就像书里的旁注，帮助理解代码。

### 为什么需要注释？

1. **解释代码的作用**：这段代码是干什么的？
2. **说明为什么这样写**：为什么用这个方法？
3. **提醒注意事项**：这里有什么坑？
4. **标记待办事项**：TODO、FIXME等

### 单行注释

用`#`开头，`#`后面的内容都会被忽略。

```python
# 这是一行注释
print("Hello")  # 这也是注释，在代码后面

# 注释可以用来说明代码
age = 18  # 用户的年龄
```

**什么时候写单行注释？**
- 解释一行代码的作用
- 说明某个变量的含义
- 标记需要修改的地方

---

### 多行注释

用三个引号（单引号或双引号都行）包起来。

```python
"""
这是多行注释
可以写很多行
通常用来写文档
"""

'''
这也是多行注释
用三个单引号也行
'''

def calculate():
    """
    这是函数的文档字符串
    通常用来解释函数的作用
    参数、返回值等
    """
    pass
```

**什么时候用多行注释？**
- 写函数或类的说明文档
- 解释复杂的算法
- 写使用说明

---

### 什么时候写注释？

**好的注释**：
```python
# 计算圆的面积（公式：π × r²）
area = 3.14 * radius ** 2

# FIXME: 这里有bug，需要修复
# TODO: 后续要添加错误处理
```

**不需要注释**：
```python
# 把x设为1（废话，代码已经很清楚了）
x = 1

# 更好的写法是让代码本身清晰
user_age = 18  # 变量名本身就说明了含义
```

**记住**：好的代码应该自己能说话，注释只是辅助。如果代码需要大量注释才能看懂，说明代码写得不够清晰。

---

## 输入：input()函数

`input()`函数让程序停下来，等待用户输入信息。就像问问题，等用户回答。

### 基本用法

```python
name = input("请输入你的名字：")
print("你好，", name)
```

**运行效果**：
```
请输入你的名字：小明
你好， 小明
```

**解释**：
- `input()`会显示提示信息（括号里的内容）
- 程序会停下来，等用户输入
- 用户输入后按回车，`input()`返回用户输入的内容
- 我们把这个内容存到变量`name`里

---

### 注意：input()返回的是字符串

这是新手最容易犯的错误！

```python
age = input("你几岁？")
print(type(age))  # <class 'str'>，是字符串！

# 如果直接当数字用，会报错
# next_year = age + 1  # TypeError: 不能把字符串和数字相加
```

**怎么办？需要转换类型！**

```python
# 转换成整数
age = int(input("你几岁？"))
print(type(age))  # <class 'int'>，现在是整数了
next_year = age + 1  # 现在可以了

# 转换成小数
price = float(input("价格是多少？"))
```

**类型转换函数**：
- `int()`：转换成整数
- `float()`：转换成小数
- `str()`：转换成字符串

---

### 完整的交互程序

让我们写一个完整的交互程序，让用户输入信息，然后输出。

```python
# 简单的自我介绍程序
print("=== 自我介绍小程序 ===")
name = input("你叫什么名字？")
age = int(input("你几岁了？"))
city = input("你住在哪个城市？")

print("\n=== 你的信息 ===")
print(f"姓名：{name}")
print(f"年龄：{age}岁")
print(f"城市：{city}")
print(f"\n{name}，你好！欢迎来自{city}的{age}岁的你！")
```

**运行效果**：
```
=== 自我介绍小程序 ===
你叫什么名字？小明
你几岁了？18
你住在哪个城市？北京

=== 你的信息 ===
姓名：小明
年龄：18岁
城市：北京

小明，你好！欢迎来自北京的18岁的你！
```

---

## 实战例子

光说不练假把式，让我们写几个实用的程序！

---

### 例子1：简单计算器

做一个能加减乘除的计算器。

```python
# 简单计算器
print("=== 简单计算器 ===")
num1 = float(input("输入第一个数字："))
num2 = float(input("输入第二个数字："))

print(f"\n{num1} + {num2} = {num1 + num2}")
print(f"{num1} - {num2} = {num1 - num2}")
print(f"{num1} × {num2} = {num1 * num2}")
print(f"{num1} ÷ {num2} = {num1 / num2}")
```

**运行效果**：
```
=== 简单计算器 ===
输入第一个数字：10
输入第二个数字：3

10.0 + 3.0 = 13.0
10.0 - 3.0 = 7.0
10.0 × 3.0 = 30.0
10.0 ÷ 3.0 = 3.3333333333333335
```

---

### 例子2：单位转换

把厘米转换成英尺和英寸。

```python
# 身高单位转换（厘米转英尺）
cm = float(input("请输入身高（厘米）："))
feet = cm / 30.48
inches = (cm / 2.54) % 12

print(f"{cm}厘米 = {feet:.0f}英尺{inches:.1f}英寸")
```

**运行效果**：
```
请输入身高（厘米）：175
175.0厘米 = 5英尺8.9英寸
```

---

### 例子3：购物小票

生成一个购物小票。

```python
# 购物小票生成器
print("=== 购物小票 ===")
item = input("商品名称：")
price = float(input("单价："))
quantity = int(input("数量："))

total = price * quantity
print(f"\n商品：{item}")
print(f"单价：¥{price}")
print(f"数量：{quantity}")
print(f"总价：¥{total:.2f}")
```

**运行效果**：
```
=== 购物小票 ===
商品名称：苹果
单价：5.5
数量：3

商品：苹果
单价：¥5.5
数量：3
总价：¥16.50
```

---

### 例子4：BMI计算器

计算身体质量指数（BMI）。

```python
# BMI（身体质量指数）计算器
print("=== BMI计算器 ===")
weight = float(input("体重（kg）："))
height = float(input("身高（m）："))

bmi = weight / (height ** 2)
print(f"\n你的BMI是：{bmi:.1f}")

# 判断（后面会学条件语句，这里先简单输出）
if bmi < 18.5:
    print("偏瘦")
elif bmi < 24:
    print("正常")
elif bmi < 28:
    print("偏胖")
else:
    print("肥胖")
```

**运行效果**：
```
=== BMI计算器 ===
体重（kg）：70
身高（m）：1.75

你的BMI是：22.9
正常
```

---

## 转义字符

有些特殊字符不能直接写在字符串里，需要用`\`来表示。这就像在文字里加特殊符号。

### 常用转义字符

```python
# 换行符 \n
print("第一行\n第二行")
# 输出：
# 第一行
# 第二行

# 制表符 \t（Tab，用来对齐）
print("姓名\t年龄\t城市")
print("小明\t18\t北京")
print("小红\t20\t上海")
# 输出：
# 姓名    年龄    城市
# 小明    18      北京
# 小红    20      上海

# 打印引号
print("他说：\"你好！\"")  # 用\转义
print('She said: "Hello!"')  # 或者用单引号包双引号

# 打印反斜杠
print("C:\\Users\\Desktop")  # 用\\表示一个\

# 原始字符串（不转义）
print(r"C:\Users\Desktop")  # 前面加r，所有字符都按字面意思
```

**实际应用**：
```python
# 打印多行文本
print("第一行\n第二行\n第三行")

# 打印表格
print("商品\t价格\t数量")
print("苹果\t5.5\t3")
print("香蕉\t3.2\t5")

# Windows路径
print(r"C:\Users\Desktop\file.txt")  # 用r前缀更方便
```

---

## 代码风格建议

写代码不仅要能运行，还要写得好看、易读。就像写字，不仅要能看懂，还要写得工整。

### PEP 8 风格指南

PEP 8是Python官方的代码风格指南，建议大家都遵循。

```python
# 好的风格
name = "小明"
age = 18
total_score = 95

# 不好的风格
Name = "小明"  # 变量名不要大写开头（那是类名）
AGE = 18  # 不要全大写（那是常量）
totalScore = 95  # Python用下划线，不用驼峰（那是Java风格）

# 运算符两边要有空格
result = 10 + 20  # 好
result=10+20  # 不好，太挤了

# 逗号后面要空格
print(1, 2, 3)  # 好
print(1,2,3)  # 不好
```

**记住**：代码是写给人看的，机器只是顺便执行一下。写清晰的代码，以后自己看也方便！

---

### 变量命名规范

好的变量名应该一看就懂，不需要注释。

```python
# 好的变量名（一看就懂）
user_name = "张三"
student_age = 18
total_price = 99.9

# 不好的变量名（看不懂）
x = "张三"  # x是什么？
a = 18  # a是什么？
tp = 99.9  # tp是什么？

# 常量用全大写
PI = 3.14159
MAX_SIZE = 100
```

**命名规则**：
- 用英文单词，不要用拼音
- 用下划线连接多个单词
- 变量名小写，常量全大写
- 有意义，一看就知道是什么

---

## 常见错误

新手写代码经常会遇到这些错误，提前知道可以少走弯路。

---

### 错误1：忘记引号

字符串必须用引号包起来。

```python
# 错误
print(Hello)  # NameError: name 'Hello' is not defined

# 正确
print("Hello")
```

**为什么会错？** Python以为`Hello`是个变量名，但没定义这个变量，所以报错。

---

### 错误2：中文标点

Python只认识英文标点，中文标点会报错。

```python
# 错误（中文逗号）
print("Hello"，"World")  # SyntaxError

# 正确（英文逗号）
print("Hello", "World")
```

**常见的中文标点错误**：
- 中文逗号`，` vs 英文逗号`,`
- 中文句号`。` vs 英文句号`.`
- 中文括号`（）` vs 英文括号`()`

---

### 错误3：缩进错误

Python用缩进来表示代码块，缩进不对会报错。

```python
# 错误
print("Hello")
  print("World")  # IndentationError

# 正确
print("Hello")
print("World")
```

**注意**：Python对缩进很严格，同一层代码的缩进要一致。通常用4个空格，不要用Tab。

---

### 错误4：input()类型问题

`input()`返回的总是字符串，不能直接当数字用。

```python
# 错误
age = input("年龄：")
next_year = age + 1  # TypeError: 不能把字符串和数字相加

# 正确
age = int(input("年龄："))
next_year = age + 1
```

**记住**：`input()`返回字符串，需要数字时要转换！

---

## 小测验

运行下面的代码，理解它的输出：

```python
print("Python", "很", "有趣", sep="-")
print("学习", end=" ")
print("使人进步")
print(f"1 + 1 = {1 + 1}")

name = "Python"
year = 1991
print(f"{name}诞生于{year}年")
```

**答案**：
```
Python-很-有趣
学习 使人进步
1 + 1 = 2
Python诞生于1991年
```

---

## 练习题

光看不练假把式，动手写代码才能真正学会！

---

### 练习1：个人名片

编写程序，输入姓名、年龄、职业，输出格式化的名片。

**要求**：
- 用`input()`获取用户输入
- 用`f-string`格式化输出
- 输出要美观，有分隔线

**示例输出**：
```
==================
   个人名片
==================
姓名：张三
年龄：25岁
职业：程序员
==================
```

---

### 练习2：温度转换

输入摄氏度，输出华氏度和开尔文温度。

**公式**：
- 华氏度 = 摄氏度 × 9/5 + 32
- 开尔文 = 摄氏度 + 273.15

**示例**：
```
输入：25
输出：
25°C = 77.0°F
25°C = 298.15K
```

---

### 练习3：购物找零

输入商品价格和付款金额，计算找零。

**要求**：
- 处理小数
- 输出格式：`应找零：XX.XX元`

**示例**：
```
商品价格：45.8
付款金额：100
应找零：54.2元
```

---

### 练习4：秒数转换

输入总秒数，转换成"X小时Y分钟Z秒"。

**提示**：
- 1小时 = 3600秒
- 1分钟 = 60秒
- 用`//`（整除）和`%`（取余）

**示例**：
```
输入：3665秒
输出：1小时1分钟5秒
```

---

## 下一步

学会了输入输出，你已经掌握了Python最基础的功能！下一章我们将学习：
- 变量和数据类型
- 基础语法规则
- 更多实用的技巧

准备好了吗？让我们继续Python之旅！

[上一章：第01章 - Python简介和安装 ←](../01-Python简介和安装/01-Python简介和安装.md)

[下一章：第03章 - 基础语法 →](../03-基础语法/03-基础语法.md)

---

## 本章重点总结

学完这一章，你应该掌握：

- **交互式模式和脚本模式的区别**：什么时候用哪个
- **print()函数的各种用法**：基本打印、格式化、分隔符、结尾
- **input()函数获取用户输入**：如何让程序交互
- **注释的写法**：单行注释、多行注释
- **f-string格式化输出**：最现代的格式化方法
- **代码风格规范**：PEP 8、变量命名
- **常见错误**：如何避免和解决

**记住**：
- `input()`返回的总是字符串，需要数字时要转换类型
- 用`f-string`格式化输出最方便、最直观
- 变量名要有意义，一看就懂
- 多写注释，但代码本身要清晰
- 遵循PEP 8风格指南，写好看的代码

**你已经会写简单的Python程序了！** 虽然还很简单，但这是重要的一步。继续加油！
